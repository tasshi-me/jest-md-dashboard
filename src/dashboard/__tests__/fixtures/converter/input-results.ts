import {
  AggregatedResult,
  SnapshotSummary,
  TestResult,
} from "@jest/test-result";

import { testStartTime } from "../../helpers/datetime.js";

const testResults: TestResult[] = [
  {
    leaks: false,
    numFailingTests: 0,
    numPassingTests: 13,
    numPendingTests: 0,
    numTodoTests: 1,
    openHandles: [],
    perfStats: {
      end: 1656484672012,
      runtime: 513,
      slow: false,
      start: 1656484671499,
    },
    skipped: false,
    snapshot: {
      added: 0,
      fileDeleted: false,
      matched: 0,
      unchecked: 0,
      uncheckedKeys: [],
      unmatched: 0,
      updated: 0,
    },
    testFilePath: "/path/to/rootDir/src/__tests__/sample-1.test.ts",
    testResults: [
      {
        ancestorTitles: ["describe depth 1"],
        duration: 2,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 test 1",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 1",
      },
      {
        ancestorTitles: ["describe depth 1"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 test 2",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 2",
      },
      {
        ancestorTitles: ["describe depth 1", "describe depth 2"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 describe depth 2 test 1",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 1",
      },
      {
        ancestorTitles: ["describe depth 1", "describe depth 2"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 describe depth 2 test 2",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 2",
      },
      {
        ancestorTitles: [
          "describe depth 1",
          "describe depth 2",
          "describe depth 3",
        ],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 describe depth 2 describe depth 3 test 1",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 1",
      },
      {
        ancestorTitles: [
          "describe depth 1",
          "describe depth 2",
          "describe depth 3",
        ],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 describe depth 2 describe depth 3 test 2",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 2",
      },
      {
        ancestorTitles: ["describe depth 1", "describe depth 2-2"],
        duration: 1,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 describe depth 2-2 test 1",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 1",
      },
      {
        ancestorTitles: ["describe depth 1", "describe depth 2-2"],
        duration: null,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 describe depth 2-2 test 2",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "todo",
        title: "test 2",
      },
      {
        ancestorTitles: ["describe depth 1"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 test 3",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 3",
      },
      {
        ancestorTitles: ["describe depth 1"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 test 4",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 4",
      },
      {
        ancestorTitles: ["describe depth 1-2"],
        duration: 1,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1-2 parametarized: 1",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "parametarized: 1",
      },
      {
        ancestorTitles: ["describe depth 1-2"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1-2 parametarized: 2",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "parametarized: 2",
      },
      {
        ancestorTitles: ["describe depth 1-2"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1-2 parametarized: 1",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "parametarized: 1",
      },
      {
        ancestorTitles: ["describe depth 1-2"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1-2 parametarized: 2",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "parametarized: 2",
      },
    ],
    failureMessage: null,
  },
  {
    leaks: false,
    numFailingTests: 0,
    numPassingTests: 4,
    numPendingTests: 0,
    numTodoTests: 0,
    openHandles: [],
    perfStats: {
      end: 1656484671492,
      runtime: 3869,
      slow: false,
      start: 1656484667623,
    },
    skipped: false,
    snapshot: {
      added: 0,
      fileDeleted: false,
      matched: 0,
      unchecked: 0,
      uncheckedKeys: [],
      unmatched: 0,
      updated: 0,
    },
    testFilePath: "/path/to/rootDir/src/__tests__/sample-2.test.ts",
    testResults: [
      {
        ancestorTitles: ["describe depth 1"],
        duration: 1,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 test 1",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 1",
      },
      {
        ancestorTitles: ["describe depth 1"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 test 2",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 2",
      },
      {
        ancestorTitles: ["describe depth 1"],
        duration: 1,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 test 3",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 3",
      },
      {
        ancestorTitles: ["describe depth 1"],
        duration: 0,
        failureDetails: [],
        failureMessages: [],
        fullName: "describe depth 1 test 4",
        invocations: 1,
        location: null,
        numPassingAsserts: 0,
        retryReasons: [],
        status: "passed",
        title: "test 4",
      },
    ],
    failureMessage: null,
  },
];

const snapshot: SnapshotSummary = {
  added: 0,
  didUpdate: false,
  failure: false,
  filesAdded: 0,
  filesRemoved: 0,
  filesRemovedList: [],
  filesUnmatched: 0,
  filesUpdated: 0,
  matched: 0,
  total: 0,
  unchecked: 0,
  uncheckedKeysByFile: [],
  unmatched: 0,
  updated: 0,
};

export const results: AggregatedResult = {
  numFailedTests: 43,
  numFailedTestSuites: 7,
  numPassedTests: 67,
  numPassedTestSuites: 38,
  numPendingTests: 0,
  numTodoTests: 13,
  numPendingTestSuites: 0,
  numRuntimeErrorTestSuites: 0,
  numTotalTests: 45,
  numTotalTestSuites: 123,
  openHandles: [],
  snapshot: snapshot,
  startTime: testStartTime.getTime(),
  success: true,
  testResults: testResults,
  wasInterrupted: false,
};
